{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/sonukundra/Desktop/tidy/app/screens/camera.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { Camera } from \"expo-camera\";\nimport * as FileSystem from \"expo-file-system\";\nvar camera;\n\nvar CameraScreen = function CameraScreen() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      startCamera = _React$useState2[0],\n      setStartCamera = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      previewVisible = _React$useState4[0],\n      setPreviewVisible = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      capturedImage = _React$useState6[0],\n      setCapturedImage = _React$useState6[1];\n\n  var _React$useState7 = React.useState(Camera.Constants.Type.back),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      cameraType = _React$useState8[0],\n      setCameraType = _React$useState8[1];\n\n  var _React$useState9 = React.useState(\"off\"),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      flashMode = _React$useState10[0],\n      setFlashMode = _React$useState10[1];\n\n  var __startCamera = function __startCamera() {\n    var _await$Camera$request, status;\n\n    return _regeneratorRuntime.async(function __startCamera$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Camera.requestPermissionsAsync());\n\n          case 2:\n            _await$Camera$request = _context.sent;\n            status = _await$Camera$request.status;\n            console.log(status);\n\n            if (status === \"granted\") {\n              setStartCamera(true);\n            } else {\n              Alert.alert(\"Access denied\");\n            }\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var __takePicture = function __takePicture() {\n    var photo, photoURI;\n    return _regeneratorRuntime.async(function __takePicture$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(camera.takePictureAsync());\n\n          case 2:\n            photo = _context2.sent;\n            photoURI = photo.uri;\n            FileSystem.getContentUriAsync(photoURI).then(function (cUri) {\n              console.log(cUri);\n            });\n            setPreviewVisible(true);\n            setCapturedImage(photo);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var __savePhoto = function __savePhoto() {};\n\n  var __retakePicture = function __retakePicture() {\n    setCapturedImage(null);\n    setPreviewVisible(false);\n\n    __startCamera();\n  };\n\n  var __handleFlashMode = function __handleFlashMode() {\n    if (flashMode === \"on\") {\n      setFlashMode(\"off\");\n    } else if (flashMode === \"off\") {\n      setFlashMode(\"on\");\n    } else {\n      setFlashMode(\"auto\");\n    }\n  };\n\n  var __switchCamera = function __switchCamera() {\n    if (cameraType === \"back\") {\n      setCameraType(\"front\");\n    } else {\n      setCameraType(\"back\");\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, startCamera ? React.createElement(View, {\n    style: {\n      flex: 1,\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, previewVisible && capturedImage ? React.createElement(CameraPreview, {\n    photo: capturedImage,\n    savePhoto: __savePhoto,\n    retakePicture: __retakePicture,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }) : React.createElement(Camera, {\n    type: cameraType,\n    flashMode: flashMode,\n    style: {\n      flex: 1\n    },\n    ref: function ref(r) {\n      camera = r;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      width: \"100%\",\n      backgroundColor: \"transparent\",\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: {\n      position: \"absolute\",\n      left: \"5%\",\n      top: \"10%\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: __handleFlashMode,\n    style: {\n      backgroundColor: flashMode === \"off\" ? \"#000\" : \"#fff\",\n      borderRadius: 50,\n      height: 25,\n      width: 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, \"\\u26A1\\uFE0F\")), React.createElement(TouchableOpacity, {\n    onPress: __switchCamera,\n    style: {\n      marginTop: 20,\n      borderRadius: 50,\n      height: 25,\n      width: 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, cameraType === \"front\" ? \"ü§≥\" : \"üì∑\"))), React.createElement(View, {\n    style: {\n      position: \"absolute\",\n      bottom: 0,\n      flexDirection: \"row\",\n      flex: 1,\n      width: \"100%\",\n      padding: 20,\n      justifyContent: \"space-between\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: {\n      alignSelf: \"center\",\n      flex: 1,\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: __takePicture,\n    style: {\n      width: 70,\n      height: 70,\n      bottom: 0,\n      borderRadius: 50,\n      backgroundColor: \"#fff\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  })))))) : React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: \"#fff\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: __startCamera,\n    style: {\n      width: 130,\n      borderRadius: 4,\n      backgroundColor: \"#14274e\",\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: 40\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\",\n      fontWeight: \"bold\",\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, \"Take picture\"))), React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\n\nvar CameraPreview = function CameraPreview(_ref) {\n  var photo = _ref.photo,\n      retakePicture = _ref.retakePicture,\n      savePhoto = _ref.savePhoto;\n  return React.createElement(View, {\n    style: {\n      backgroundColor: \"transparent\",\n      flex: 1,\n      width: \"100%\",\n      height: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 5\n    }\n  }, React.createElement(ImageBackground, {\n    source: {\n      uri: photo && photo.uri\n    },\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: \"column\",\n      padding: 15,\n      justifyContent: \"flex-end\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: retakePicture,\n    style: {\n      width: 130,\n      height: 40,\n      alignItems: \"center\",\n      borderRadius: 4\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\",\n      fontSize: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }, \"Re-take\")), React.createElement(TouchableOpacity, {\n    onPress: savePhoto,\n    style: {\n      width: 130,\n      height: 40,\n      alignItems: \"center\",\n      borderRadius: 4\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\",\n      fontSize: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }\n  }, \"save photo\"))))));\n};\n\nexport default CameraScreen;","map":{"version":3,"sources":["/Users/sonukundra/Desktop/tidy/app/screens/camera.tsx"],"names":["StatusBar","React","Camera","FileSystem","camera","CameraScreen","useState","startCamera","setStartCamera","previewVisible","setPreviewVisible","capturedImage","setCapturedImage","Constants","Type","back","cameraType","setCameraType","flashMode","setFlashMode","__startCamera","requestPermissionsAsync","status","console","log","Alert","alert","__takePicture","takePictureAsync","photo","photoURI","uri","getContentUriAsync","then","cUri","__savePhoto","__retakePicture","__handleFlashMode","__switchCamera","styles","container","flex","width","r","backgroundColor","flexDirection","position","left","top","justifyContent","borderRadius","height","fontSize","marginTop","bottom","padding","alignSelf","alignItems","color","fontWeight","textAlign","StyleSheet","create","CameraPreview","retakePicture","savePhoto"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport React from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Alert,\n  ImageBackground,\n  Image,\n} from \"react-native\";\n\nimport { Camera } from \"expo-camera\";\n\nimport * as FileSystem from \"expo-file-system\";\n\nimport axios from \"axios\";\n\nlet camera: Camera;\n\nconst CameraScreen = () => {\n  const [startCamera, setStartCamera] = React.useState(false);\n  const [previewVisible, setPreviewVisible] = React.useState(false);\n  const [capturedImage, setCapturedImage] = React.useState<any>(null);\n  const [cameraType, setCameraType] = React.useState(\n    Camera.Constants.Type.back\n  );\n\n  const [flashMode, setFlashMode] = React.useState(\"off\");\n\n  const __startCamera = async () => {\n    const { status } = await Camera.requestPermissionsAsync();\n    console.log(status);\n    if (status === \"granted\") {\n      setStartCamera(true);\n    } else {\n      Alert.alert(\"Access denied\");\n    }\n  };\n\n  const __takePicture = async () => {\n    const photo: any = await camera.takePictureAsync();\n    let photoURI = photo.uri;\n    FileSystem.getContentUriAsync(photoURI).then((cUri) => {\n      console.log(cUri);\n    });\n    setPreviewVisible(true);\n    //setStartCamera(false)\n    setCapturedImage(photo);\n  };\n\n  const __savePhoto = () => {};\n\n  const __retakePicture = () => {\n    setCapturedImage(null);\n    setPreviewVisible(false);\n    __startCamera();\n  };\n\n  const __handleFlashMode = () => {\n    if (flashMode === \"on\") {\n      setFlashMode(\"off\");\n    } else if (flashMode === \"off\") {\n      setFlashMode(\"on\");\n    } else {\n      setFlashMode(\"auto\");\n    }\n  };\n\n  const __switchCamera = () => {\n    if (cameraType === \"back\") {\n      setCameraType(\"front\");\n    } else {\n      setCameraType(\"back\");\n    }\n  };\n  return (\n    <View style={styles.container}>\n      {startCamera ? (\n        <View\n          style={{\n            flex: 1,\n            width: \"100%\",\n          }}\n        >\n          {previewVisible && capturedImage ? (\n            <CameraPreview\n              photo={capturedImage}\n              savePhoto={__savePhoto}\n              retakePicture={__retakePicture}\n            />\n          ) : (\n            <Camera\n              type={cameraType}\n              flashMode={flashMode}\n              style={{ flex: 1 }}\n              ref={(r) => {\n                camera = r;\n              }}\n            >\n              <View\n                style={{\n                  flex: 1,\n                  width: \"100%\",\n                  backgroundColor: \"transparent\",\n                  flexDirection: \"row\",\n                }}\n              >\n                <View\n                  style={{\n                    position: \"absolute\",\n                    left: \"5%\",\n                    top: \"10%\",\n                    flexDirection: \"column\",\n                    justifyContent: \"space-between\",\n                  }}\n                >\n                  <TouchableOpacity\n                    onPress={__handleFlashMode}\n                    style={{\n                      backgroundColor: flashMode === \"off\" ? \"#000\" : \"#fff\",\n                      borderRadius: 50,\n                      height: 25,\n                      width: 25,\n                    }}\n                  >\n                    <Text\n                      style={{\n                        fontSize: 20,\n                      }}\n                    >\n                      ‚ö°Ô∏è\n                    </Text>\n                  </TouchableOpacity>\n                  <TouchableOpacity\n                    onPress={__switchCamera}\n                    style={{\n                      marginTop: 20,\n                      borderRadius: 50,\n                      height: 25,\n                      width: 25,\n                    }}\n                  >\n                    <Text\n                      style={{\n                        fontSize: 20,\n                      }}\n                    >\n                      {cameraType === \"front\" ? \"ü§≥\" : \"üì∑\"}\n                    </Text>\n                  </TouchableOpacity>\n                </View>\n                <View\n                  style={{\n                    position: \"absolute\",\n                    bottom: 0,\n                    flexDirection: \"row\",\n                    flex: 1,\n                    width: \"100%\",\n                    padding: 20,\n                    justifyContent: \"space-between\",\n                  }}\n                >\n                  <View\n                    style={{\n                      alignSelf: \"center\",\n                      flex: 1,\n                      alignItems: \"center\",\n                    }}\n                  >\n                    <TouchableOpacity\n                      onPress={__takePicture}\n                      style={{\n                        width: 70,\n                        height: 70,\n                        bottom: 0,\n                        borderRadius: 50,\n                        backgroundColor: \"#fff\",\n                      }}\n                    />\n                  </View>\n                </View>\n              </View>\n            </Camera>\n          )}\n        </View>\n      ) : (\n        <View\n          style={{\n            flex: 1,\n            backgroundColor: \"#fff\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <TouchableOpacity\n            onPress={__startCamera}\n            style={{\n              width: 130,\n              borderRadius: 4,\n              backgroundColor: \"#14274e\",\n              flexDirection: \"row\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              height: 40,\n            }}\n          >\n            <Text\n              style={{\n                color: \"#fff\",\n                fontWeight: \"bold\",\n                textAlign: \"center\",\n              }}\n            >\n              Take picture\n            </Text>\n          </TouchableOpacity>\n        </View>\n      )}\n\n      <StatusBar style=\"auto\" />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\nconst CameraPreview = ({ photo, retakePicture, savePhoto }: any) => {\n  return (\n    <View\n      style={{\n        backgroundColor: \"transparent\",\n        flex: 1,\n        width: \"100%\",\n        height: \"100%\",\n      }}\n    >\n      <ImageBackground\n        source={{ uri: photo && photo.uri }}\n        style={{\n          flex: 1,\n        }}\n      >\n        <View\n          style={{\n            flex: 1,\n            flexDirection: \"column\",\n            padding: 15,\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <View\n            style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <TouchableOpacity\n              onPress={retakePicture}\n              style={{\n                width: 130,\n                height: 40,\n\n                alignItems: \"center\",\n                borderRadius: 4,\n              }}\n            >\n              <Text\n                style={{\n                  color: \"#fff\",\n                  fontSize: 20,\n                }}\n              >\n                Re-take\n              </Text>\n            </TouchableOpacity>\n            <TouchableOpacity\n              onPress={savePhoto}\n              style={{\n                width: 130,\n                height: 40,\n\n                alignItems: \"center\",\n                borderRadius: 4,\n              }}\n            >\n              <Text\n                style={{\n                  color: \"#fff\",\n                  fontSize: 20,\n                }}\n              >\n                save photo\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </ImageBackground>\n    </View>\n  );\n};\n\nexport default CameraScreen;\n"]},"metadata":{},"sourceType":"module"}